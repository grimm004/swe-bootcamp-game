<!DOCTYPE html>
<html lang="en-GB">
<head>
  <title>BP EC SE Game</title>

  <link rel="icon" type="image/png" href="./assets/images/icon.png">

  <link rel="stylesheet" type="text/css" href="./css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">

  <script type="module" src="./js/index.js"></script>
</head>

<body>

<!-- Game container -->
<div class="game-container">
  <div id="gameContainer">
    <canvas id="glCanvas">
      Browser does not support HTML5.
    </canvas>
    <div id="mouseCaptureOverlay" class="center-screen d-none">
      Double click to take control
    </div>
  </div>

  <div id="fpsLabel" class="fps-label">0.00 FPS</div>

  <div class="custom-control custom-checkbox debug-checkbox">
    <input id="enableDebugCheckbox" type="checkbox" class="custom-control-input">
    <label for="enableDebugCheckbox" class="custom-control-label">Debug</label>
  </div>

  <div id="playerPositionLabel" class="debug-stats debug-stats-top d-none"></div>
  <div id="physicsStatsLabel" class="debug-stats debug-stats-right d-none"></div>
</div>

<!-- Menu UI Container: Account, Lobby, and Profile Management -->
<div id="menuContainer" class="menu-container">
  <!-- Navigation buttons for Lobby and Profile (hidden until login) -->
  <div class="online-nav d-none">
    <div class="nav-buttons">
      <button class="nav-btn" data-target="lobbyPanel">Lobby</button>
      <button class="nav-btn" data-target="profilePanel">Profile</button>
    </div>
    <button id="logoutButton" class="nav-btn logout-btn">Log Out</button>
  </div>

  <!-- Auth Panel: Login / Sign-Up -->
  <div id="authPanel" class="online-panel">
    <h2 id="authPageTitle">Log In</h2>
    <form id="authForm">
      <div class="form-group">
        <label for="authUsername">Username</label>
        <input type="text" id="authUsername" name="username" placeholder="Username" autocomplete="none" required>
      </div>
      <div class="form-group sign-up-only collapsed">
        <label for="signupDisplayName">Display Name</label>
        <input type="text" id="signupDisplayName" name="displayNameSignup" placeholder="Display Name" autocomplete="none" required disabled>
      </div>
      <div class="form-group">
        <label for="authPassword">Password</label>
        <input type="password" id="authPassword" name="password" placeholder="Password" required>
      </div>
      <div class="form-group sign-up-only collapsed">
        <label for="authConfirmPassword">Confirm Password</label>
        <input type="password" id="authConfirmPassword" name="confirmPassword" placeholder="Confirm Password" required disabled>
      </div>
      <div class="auth-actions d-flex justify-content-between align-items-center">
        <button type="submit" id="authSubmitButton">Log In</button>
        <div id="toggleAuth" class="d-flex align-items-center">
          <span id="toggleAuthText" class="toggle-auth-text">Don't have an account?</span>
          <button type="button" id="toggleAuthButton" class="toggle-auth-btn">Sign Up</button>
        </div>
      </div>
    </form>
  </div>

  <!-- Multiplayer Lobby Panel -->
  <div id="lobbyPanel" class="online-panel d-none">
    <h2>Multiplayer Lobby</h2>

    <!-- Pre-join Section: Create / Join -->
    <div id="lobbyPreJoin" class="lobby-actions">
      <button id="createLobbyBtn">Create Lobby</button>
      <div class="join-lobby">
        <input type="text" id="lobbyJoinCode" placeholder="Enter Lobby Code">
        <button id="joinLobbyBtn">Join Lobby</button>
      </div>
    </div>

    <!-- In-Lobby Section: Lobby code display and control buttons -->
    <div id="lobbyInGame" class="lobby-actions d-none">
      <div class="lobby-code">
        <label for="lobbyCodeDisplay">Lobby Code:</label>
        <input type="text" id="lobbyCodeDisplay" disabled>
      </div>
      <div class="lobby-buttons">
        <button id="leaveLobbyBtn">Leave Lobby</button>
        <button id="startGameBtn" class="d-none">Start Game</button>
      </div>
    </div>

    <div id="lobbyDetails" class="lobby-details d-none">
      <h3>Players</h3>
      <ul id="lobbyUserList" class="player-list">
      </ul>
    </div>
  </div>

  <!-- Profile Settings Panel -->
  <div id="profilePanel" class="online-panel d-none">
    <h2>Profile Settings</h2>
    <form id="profileForm">
      <div class="form-group">
        <label for="profileDisplayName">Display Name</label>
        <input type="text" id="profileDisplayName" name="displayName" placeholder="Display Name" autocomplete="none" required>
      </div>
      <button type="submit" id="profileSaveBtn">Save Profile</button>
    </form>
  </div>
</div>

<div id="messageContainer" class="message-container"></div>

</body>
</html>